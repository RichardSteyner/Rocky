@isTest
public class TriggersTest {
    
    @isTest static void test01(){
        Account acc = new Account(LastName='Test Last', PersonEmail='person@gmail.com', Authorize_ID__c='987451', Authorize_To_Sync__c=true, Primary_Clinic__c='Rocky Mountain Mens Clinic');
        Id patientRecordTypeId = Schema.SObjectType.Account.getRecordTypeInfosByName().get('Patient').getRecordTypeId();
        acc.RecordTypeId = patientRecordTypeId;
        insert acc;
        Payment_Method__c pm = new Payment_Method__c();
        pm.Authorize_ID__c = '654321';
        pm.Account__c = acc.Id;
        pm.Customer_Id__c = '985476';
        pm.Customer_Type__c = 'Individual';
        pm.First_Name__c = 'Test First';
        pm.Last_Name__c = 'Test Last';
        pm.Company__c = 'Test Company';
        pm.Billing_Street__c = 'Test Street';
        pm.Billing_State__c = 'Test State';
        pm.Billing_City__c = 'Test City';
        pm.Billing_Zip__c = 'Test Zip';
        pm.Billing_Country__c = 'Test Country';
        pm.Phone__c = '1245482148';
        pm.Fax__c = '4548152152';
        pm.Card_Number__c = '548845219';
        pm.Expiration_Date_Month__c = '12';
        pm.Expiration_Date_Year__c = '2022';
        pm.Card_Code__c = '4214485485';
        pm.Authorize_To_Sync__c = true;
        insert pm;
        acc.Description = 'nsnjs';
        update acc;
        Opportunity opp = new Opportunity();
        opp.Name = 'Yopi';
        opp.AccountId = acc.Id;
        opp.Invoice_Number__c = '654435';
        opp.PO_Number__c = '369712';
        opp.Discount_Amount__c = 400;
        opp.Shipping__c = 200;
        opp.Duty__c = 90;
        opp.Tax__c = 30;
        opp.Billing_First_Name__c = 'First';
        opp.Billing_Last_Name__c = 'Last';
        opp.Billing_Company__c = 'SertPro';
        opp.Billing_Street__c = 'Street';
        opp.Billing_City__c = 'City';
        opp.Billing_State__c = 'State';
        opp.Billing_Zip__c = 'Zip';
        opp.Billing_Country__c = 'Country';
        opp.Shipping_First_Name__c = 'First';
        opp.Shipping_Last_Name__c = 'Last';
        opp.Shipping_Company__c = 'SertPro';
        opp.Shipping_Street__c = 'Street';
        opp.Shipping_City__c = 'City';
        opp.Shipping_State__c = 'State';
        opp.Shipping_Zip__c = 'Zip';
        opp.Shipping_Country__c = 'Country';
        opp.Card_Number__c = '974216';
        opp.Expiration_Date_Month__c = '12';
        opp.Expiration_Date_Year__c = '2020';
        opp.Card_Code__c = '752145';
        opp.StageName = 'Qualification';
        opp.CloseDate = Date.today();
        opp.Primary_Clinic__c='Rocky Mountain Mens Clinic';
        opp.Amount = 200;
        opp.Payment_Method__c = pm.Id;
        opp.Authorize_Payment_Frecuency__c = 'Once';
        insert opp;
        pm.First_Name__c = 'Hi';
        update pm;
        Payment_Method__c pm2 = new Payment_Method__c();
        pm2.Authorize_ID__c = '6543212';
        pm2.Account__c = acc.Id;
        pm2.Customer_Id__c = '985476';
        pm2.Customer_Type__c = 'Individual';
        pm2.First_Name__c = 'Test First 2';
        pm2.Last_Name__c = 'Test Last 2';
        pm2.Company__c = 'Test Company 2';
        pm2.Billing_Street__c = 'Test Street';
        pm2.Billing_State__c = 'Test State';
        pm2.Billing_City__c = 'Test City';
        pm2.Billing_Zip__c = 'Test Zip';
        pm2.Billing_Country__c = 'Test Country';
        pm2.Phone__c = '1245482148';
        pm2.Fax__c = '4548152152';
        pm2.Card_Number__c = '548845219';
        pm2.Expiration_Date_Month__c = '12';
        pm2.Expiration_Date_Year__c = '2022';
        pm2.Card_Code__c = '4214485485';
        pm2.Authorize_To_Sync__c = true;
        insert pm2;
        opp.Payment_Method__c = pm2.Id;
        update opp;
        Payment__c p = new Payment__c();
        p.Account__c = acc.Id;
        p.Amount__c = 200;
        p.Opportunity__c = opp.Id;
        p.Payment_Method__c = pm2.Id;
        insert p;
        p.Amount__c = 300;
        update p;
    }

}